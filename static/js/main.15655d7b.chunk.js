(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,n){var i=n(21),c={findAll:function(){return i.get("/db/findAll")},addMovie:function(e){return i.post("/db/addMovie",e)},deleteMovie:function(e){return i.post("/db/deleteMovie",e)}};e.exports=c},33:function(e,t,n){var i=n(21),c={imdbMovieSearch:function(e){return i.post("/imdb/findMovie",e)}};e.exports=c},42:function(e,t,n){},43:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),o=n(31),r=n.n(o),a=(n(42),n(43),n(36)),s=n(2),d=n(8),u=n(10),j=n.n(u),h=n(18),l=n.n(h),b=n(32),m=n(33),f=n.n(m),v=n(0),O=function(e){var t=e.movieInfo,n=e.nominatedmovieids,c=e.updateNomineesList,o=e.clearMovieData,r=Object(i.useState)(""),a=Object(d.a)(r,2),s=a[0],u=a[1],h=Object(i.useState)(!1),l=Object(d.a)(h,2),b=l[0],m=l[1];Object(i.useEffect)((function(){f(t.imdbID)}),[t]);var f=function(e){-1!==n.indexOf(e)?m(!0):m(!1)};return t.Title?Object(v.jsxs)(v.Fragment,{children:[b?Object(v.jsx)("h2",{children:" Looks like this movie has already been nominated"}):Object(v.jsx)("button",{onClick:function(e){e.preventDefault(),j.a.addMovie(t).then((function(e){return e?(u("You have nominated '".concat(t.Title,"' for the Shopify Ecommerce Movie Awards")),c(),o(),e):void 0})).catch((function(e){return console.log(e)}))},imdbid:t.imdbID,children:"Nominate This Movie"}),Object(v.jsx)("h1",{children:t.Title}),Object(v.jsx)("h3",{children:t.Year}),Object(v.jsxs)("div",{children:[" With ",t.Actors]}),Object(v.jsx)("div",{children:t.Plot}),Object(v.jsx)("img",{src:t.Poster,alt:"Movie Poster"})]}):n.length<4?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:s}),Object(v.jsxs)("h4",{children:["You can nominate ",5-n.length," more movies."]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:s}),Object(v.jsxs)("h4",{children:["You can nominate ",5-n.length," more movie."]})]})},x=function(e){var t=Object(i.useState)({}),n=Object(d.a)(t,2),c=n[0],o=n[1],r=Object(i.useState)(""),a=Object(d.a)(r,2),s=a[0],u=a[1];Object(i.useEffect)((function(){}),[c]);var j=function(){var e=Object(b.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f.a.imdbMovieSearch({movieName:s}).then((function(e){return o(e.data),u(""),e.data})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Submission Form"}),Object(v.jsxs)("form",{action:"/imdb/findMovie",method:"POST",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{children:"Movie Title:"}),Object(v.jsx)("input",{type:"text",name:"movieName",value:s,onChange:function(e){u(e.target.value)},required:!0})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"submit",value:"Submit",onClick:j,children:"Find Your Movie"})})]}),Object(v.jsx)(O,{movieInfo:c,nominatedmovieids:e.nominatedmovieids,updateNomineesList:e.updateNomineesList,clearMovieData:function(){o({}),u("")}})]})},p=function(){var e=Object(i.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(i.useState)(!1),r=Object(d.a)(o,2),a=r[0],s=r[1];Object(i.useEffect)((function(){u()}),[]),Object(i.useEffect)((function(){l()}),[n]);var u=function(){j.a.findAll().then((function(e){return e?(h(e.data),e):void 0}))},h=function(e){var t=[];return e.map((function(e){return t.push(e.imdbID)})),c(t),t},l=function(){return n.length>4?(s(!0),!0):(s(!1),!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("a",{href:"/nominatedMovies",children:"Click Here to See The Nominated Movies"}),a?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:"Congratulations! You have nominated 5 of your favorite films for the Shopify Ecommerce Movie Awards!"}),Object(v.jsx)("h4",{children:"You can see which movies you have nominated using the link above and remove any unwanted choices."}),Object(v.jsx)("h4",{children:"Thanks for helping us choose the film of the year!"})]}):Object(v.jsx)(x,{nominatedmovieids:n,updateNomineesList:u,nominatedMovieIds:n})]})},g=function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:e.title}),Object(v.jsx)("button",{"data-movieid":e.id,onClick:function(t){t.preventDefault();var n={imdbID:t.target.dataset.movieid};e.db.deleteMovie(n).then(e.updateNomineesList).catch((function(e){return console.log(e)}))},children:"Remove"})]})},M=function(){var e=Object(i.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1];Object(i.useEffect)((function(){o()}),[]);var o=function(){j.a.findAll().then((function(e){e&&c(e)})).then((function(){return console.log("nomineesList updated with",n)}))};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{children:Object(v.jsx)("a",{href:"/",children:"Back to Nomination Page"})}),n?n.data.map((function(e){return Object(v.jsx)(g,{title:e.Title,id:e.imdbID,db:j.a,updateNomineesList:o},e.imdbID)})):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{children:"No movies have been nominated :("}),Object(v.jsx)("a",{href:"/",children:"Click Here to Find and Nominate Your Favorite Movie!"})]})]})},S=n(34),F=n(35),N=function(){return Object(v.jsx)(S.a,{fluid:!0,children:Object(v.jsx)(F.a,{children:Object(v.jsx)("h2",{children:"The Shopify Ecommerce Movie Awards Nominations"})})})};var k=function(){return Object(v.jsxs)(a.a,{children:[Object(v.jsx)(N,{}),Object(v.jsx)(s.a,{exact:!0,path:"/",component:p}),Object(v.jsx)(s.a,{exact:!0,path:"/nominatedMovies",component:M})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),c(e),o(e),r(e)}))};r.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(k,{})}),document.getElementById("root")),y()}},[[69,1,2]]]);
//# sourceMappingURL=main.15655d7b.chunk.js.map